<?xml version="1.0" encoding="UTF-8"?>

<mockHttpd>

	<server hostname="localhost" port="9000"/>
	<log id="MockHTTP" level="normal"/>

	<mimeTypes>
		<css fileType="text">text/css</css>
		<gif fileType="binary">image/gif</gif>
		<!--html fileType="text">application/xhtml+xml</html-->
		<html fileType="text">text/html</html>
		<ico fileType="binary">image/vnd.microsoft.icon</ico>
		<jpg fileType="binary">image/jpeg</jpg>
		<js fileType="text">application/javascript</js>
		<png fileType="binary">image/png</png>
		<text fileType="text">text/plain</text>
		<xhtml fileType="text">application/xhtml+xml</xhtml>
		<xml fileType="text">text/xml</xml>
		<svg fileType="text">image/svg+xml</svg>
		<ws fileType="text">text/xml</ws>
	</mimeTypes>

	<sessions name="method_session_id">
		<session id="USERID">
			<messageHeaders mimeType="" agentName="" agentVersion="">
				<Set-Cookie>webapp_session_id=USERID; path=/; expires=${_GMTSTRING+900};</Set-Cookie>
			</messageHeaders>
		</session>
	</sessions>

	<transactions documentRoot="../../../src" directoryIndex="method.html">

		<default>
			<response>
				<macros>
					<CSS>${agentName}</CSS>
				</macros>
				<statusLine httpVersion="HTTP/1.1" statusCode="200" reasonPhrase="OK"/>
				<messageHeaders>
					<Connection>Close</Connection>
					<Content-Length>${contentLength}</Content-Length>
					<Content-Type>${mimeType}</Content-Type>
				</messageHeaders>
				<messageBody mimeType="text/html" statusCode="404" reasonPhrase="Not Found">
					<![CDATA[
						<?xml version="1.0" encoding="utf-8"?><html><head><title>Mock HTTPD Server</title></head><body><h1>Mock HTTPD Server - ${_GMTSTRING}</h1><h2>${uri} - 404 Not Found</h2></body></html>
					]]>
				</messageBody>
				<messageBody mimeType="text/xml" statusCode="404" reasonPhrase="Not Found">
					<![CDATA[
						<!-- ${uri} 404 Not Found -->
					]]>
				</messageBody>
				<messageBody mimeType="application/javascript" statusCode="404" reasonPhrase="Not Found">
					<![CDATA[
						// ${uri} 404 Not Found
					]]>
				</messageBody>
			</response>
		</default>

		<transaction id="method.html" uri="/method.html" method="GET">
			<response>
				<messageBody mimeType="text/html">${_IMPORT test/html/method.html}</messageBody>
			</response>
		</transaction>

		<transaction id="method.css" uri="/css/method.css" method="GET">
			<response>
				<messageBody mimeType="text/css">${_IMPORT test/css/method.css}</messageBody>
			</response>
		</transaction>

		<transaction id="method.js" uri="/javascript/method.js" method="GET">
			<response>
				<messageBody mimeType="application/javascript">
${_IMPORT main/javascript/method.js}
				</messageBody>
			</response>
		</transaction>

		<transaction id="method.js" uri="/javascript/testpilot.js" method="GET">
			<response>
				<messageBody mimeType="application/javascript">${_IMPORT ../../testpilot.js/dist/testpilot.js}</messageBody>
			</response>
		</transaction>

		<transaction id="method.js" uri="/javascript/annotations.js" method="GET">
			<response>
				<messageBody mimeType="application/javascript">${_IMPORT ../../annotations.js/dist/annotations.js}</messageBody>
			</response>
		</transaction>

		<transaction id="method.js" uri="/javascript/method-unit-tests.js" method="GET">
			<response>
				<messageBody mimeType="application/javascript">
${_IMPORT test/javascript/method-00-initialize.js}
${_IMPORT test/javascript/method-01-namespace.js}
${_IMPORT test/javascript/method-02-type.js}
${_IMPORT test/javascript/method-03-operation.js}
${_IMPORT test/javascript/method-04-interface.js}
${_IMPORT test/javascript/method-05-constructor.js}
${_IMPORT test/javascript/method-06-initializer.js}
${_IMPORT test/javascript/method-07-inheritance.js}
${_IMPORT test/javascript/method-08-super.js}
${_IMPORT test/javascript/method-09-modifiers.js}
${_IMPORT test/javascript/method-10-this.js}
${_IMPORT test/javascript/method-20-README.md.js}
				</messageBody>
			</response>
		</transaction>

	</transactions>

</mockHttpd>
